# Example configuration for LP Core mode (Default)
# Best for power saving and timing precision.
# Requires jumper wires on Seeed Xiao RS485 boards.
#
# WIRING (ESP32-C6):
# GPIO 4 (RX) -> RS485 RO
# GPIO 5 (TX) -> RS485 DI
# GPIO 2 (DE) -> RS485 DE/RE

esphome:
  name: hcp2-lp-test
  friendly_name: HCP2 LP Test

esp32:
  board: esp32-c6-devkitc-1
  variant: esp32c6
  framework:
    type: esp-idf
    sdkconfig_options:
      CONFIG_ESP32C6_ULP_COPROC_ENABLED: "y"
      CONFIG_ULP_COPROC_ENABLED: "y"
      CONFIG_ULP_COPROC_RESERVE_MEM: "16384"
      CONFIG_ULP_COPROC_TYPE_LP_CORE: "y"

external_components:
  - source:
      type: local
      path: components

logger:
  level: DEBUG

wifi:
  ssid: !secret wifi_ssid
  password: !secret wifi_password

api:
ota:
  - platform: esphome

hcp_bridge:
  id: hcp_hub
  core: lp
  tx_pin: 5
  rx_pin: 4
  flow_control_pin: 2

cover:
  - platform: hcp_bridge
    name: "Garage Door"
    hcp_bridge_id: hcp_hub

switch:
  - platform: hcp_bridge
    name: "Garage Light"
    hcp_bridge_id: hcp_hub
    type: light

  - platform: hcp_bridge
    name: "Garage Vent"
    hcp_bridge_id: hcp_hub
    type: vent
